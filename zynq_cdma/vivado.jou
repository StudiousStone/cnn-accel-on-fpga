#-----------------------------------------------------------
# Vivado v2015.4 (64-bit)
# SW Build 1412921 on Wed Nov 18 09:44:32 MST 2015
# IP Build 1412160 on Tue Nov 17 13:47:24 MST 2015
# Start of session at: Thu Jun 23 09:49:12 2016
# Process ID: 2686
# Current directory: /home/liucheng/projects/backup/zynq_cdma
# Command line: vivado zynq_cdma.xpr
# Log file: /home/liucheng/projects/backup/zynq_cdma/vivado.log
# Journal file: /home/liucheng/projects/backup/zynq_cdma/vivado.jou
#-----------------------------------------------------------
start_gui
open_project zynq_cdma.xpr
create_bd_design "cdma_sim"
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_bram_ctrl:4.0 axi_bram_ctrl_0
endgroup
set_property -dict [list CONFIG.SUPPORTS_NARROW_BURST.VALUE_SRC PROPAGATED] [get_bd_cells axi_bram_ctrl_0]
set_property -dict [list CONFIG.SINGLE_PORT_BRAM {1}] [get_bd_cells axi_bram_ctrl_0]
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:blk_mem_gen:8.3 blk_mem_gen_0
endgroup
regenerate_bd_layout
copy_bd_objs /  [get_bd_cells {axi_bram_ctrl_0 blk_mem_gen_0}]
regenerate_bd_layout
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_cdma:4.1 axi_cdma_0
endgroup
set_property location {0.5 -20 76} [get_bd_cells axi_cdma_0]
set_property location {2 402 426} [get_bd_cells blk_mem_gen_1]
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/axi_cdma_0/M_AXI" Clk "Auto" }  [get_bd_intf_pins axi_bram_ctrl_0/S_AXI]
apply_bd_automation -rule xilinx.com:bd_rule:bram_cntlr -config {BRAM "/blk_mem_gen_0" }  [get_bd_intf_pins axi_bram_ctrl_0/BRAM_PORTA]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/axi_cdma_0/M_AXI" Clk "Auto" }  [get_bd_intf_pins axi_bram_ctrl_1/S_AXI]
apply_bd_automation -rule xilinx.com:bd_rule:bram_cntlr -config {BRAM "/blk_mem_gen_0" }  [get_bd_intf_pins axi_bram_ctrl_1/BRAM_PORTA]
endgroup
regenerate_bd_layout
startgroup
set_property -dict [list CONFIG.C_INCLUDE_SG {0}] [get_bd_cells axi_cdma_0]
endgroup
regenerate_bd_layout
startgroup
set_property -dict [list CONFIG.Memory_Type {Single_Port_RAM} CONFIG.Enable_B {Always_Enabled} CONFIG.Use_RSTB_Pin {false} CONFIG.Port_B_Clock {0} CONFIG.Port_B_Write_Rate {0} CONFIG.Port_B_Enable_Rate {0}] [get_bd_cells blk_mem_gen_0]
delete_bd_objs [get_bd_intf_nets axi_bram_ctrl_1_BRAM_PORTA]
endgroup
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:bram_cntlr -config {BRAM "/blk_mem_gen_0" }  [get_bd_intf_pins axi_bram_ctrl_1/BRAM_PORTA]
apply_bd_automation -rule xilinx.com:bd_rule:board -config {Board_Interface "sys_clock ( System clock ) " }  [get_bd_pins clk_wiz/clk_in1]
apply_bd_automation -rule xilinx.com:bd_rule:board -config {rst_polarity "ACTIVE_HIGH" }  [get_bd_pins clk_wiz/reset]
apply_bd_automation -rule xilinx.com:bd_rule:board -config {rst_polarity "ACTIVE_LOW" }  [get_bd_pins rst_clk_wiz_100M/ext_reset_in]
endgroup
startgroup
set_property -dict [list CONFIG.Memory_Type {Single_Port_RAM} CONFIG.Enable_B {Always_Enabled} CONFIG.Use_RSTB_Pin {false} CONFIG.Port_B_Clock {0} CONFIG.Port_B_Write_Rate {0} CONFIG.Port_B_Enable_Rate {0}] [get_bd_cells blk_mem_gen_0]
delete_bd_objs [get_bd_intf_nets axi_bram_ctrl_1_BRAM_PORTA]
endgroup
connect_bd_intf_net [get_bd_intf_pins axi_bram_ctrl_1/BRAM_PORTA] [get_bd_intf_pins blk_mem_gen_1/BRAM_PORTA]
regenerate_bd_layout -routing
connect_bd_net [get_bd_pins axi_cdma_0/s_axi_lite_aclk] [get_bd_pins clk_wiz/clk_out1]
connect_bd_net [get_bd_pins axi_cdma_0/s_axi_lite_aresetn] [get_bd_pins rst_clk_wiz_100M/peripheral_aresetn]
save_bd_design
startgroup
create_bd_intf_port -mode Slave -vlnv xilinx.com:interface:aximm_rtl:1.0 S_AXI_LITE
set_property -dict [list CONFIG.PROTOCOL [get_property CONFIG.PROTOCOL [get_bd_intf_pins axi_cdma_0/S_AXI_LITE]] CONFIG.ADDR_WIDTH [get_property CONFIG.ADDR_WIDTH [get_bd_intf_pins axi_cdma_0/S_AXI_LITE]] CONFIG.HAS_BURST [get_property CONFIG.HAS_BURST [get_bd_intf_pins axi_cdma_0/S_AXI_LITE]] CONFIG.HAS_LOCK [get_property CONFIG.HAS_LOCK [get_bd_intf_pins axi_cdma_0/S_AXI_LITE]] CONFIG.HAS_PROT [get_property CONFIG.HAS_PROT [get_bd_intf_pins axi_cdma_0/S_AXI_LITE]] CONFIG.HAS_CACHE [get_property CONFIG.HAS_CACHE [get_bd_intf_pins axi_cdma_0/S_AXI_LITE]] CONFIG.HAS_QOS [get_property CONFIG.HAS_QOS [get_bd_intf_pins axi_cdma_0/S_AXI_LITE]] CONFIG.HAS_REGION [get_property CONFIG.HAS_REGION [get_bd_intf_pins axi_cdma_0/S_AXI_LITE]] CONFIG.HAS_WSTRB [get_property CONFIG.HAS_WSTRB [get_bd_intf_pins axi_cdma_0/S_AXI_LITE]] CONFIG.SUPPORTS_NARROW_BURST [get_property CONFIG.SUPPORTS_NARROW_BURST [get_bd_intf_pins axi_cdma_0/S_AXI_LITE]] CONFIG.MAX_BURST_LENGTH [get_property CONFIG.MAX_BURST_LENGTH [get_bd_intf_pins axi_cdma_0/S_AXI_LITE]]] [get_bd_intf_ports S_AXI_LITE]
connect_bd_intf_net [get_bd_intf_pins axi_cdma_0/S_AXI_LITE] [get_bd_intf_ports S_AXI_LITE]
endgroup
startgroup
create_bd_port -dir O -type intr cdma_introut
connect_bd_net [get_bd_pins /axi_cdma_0/cdma_introut] [get_bd_ports cdma_introut]
endgroup
set_property location {1264 -16} [get_bd_ports cdma_introut]
set_property location {1324 -29} [get_bd_ports cdma_introut]
set_property location {1322 -6} [get_bd_ports cdma_introut]
set_property location {1320 -19} [get_bd_ports cdma_introut]
set_property location {5 1196 62} [get_bd_cells blk_mem_gen_0]
regenerate_bd_layout -routing
save_bd_design
make_wrapper -files [get_files /home/liucheng/projects/backup/zynq_cdma/zynq_cdma.srcs/sources_1/bd/cdma_sim/cdma_sim.bd] -top
add_files -norecurse /home/liucheng/projects/backup/zynq_cdma/zynq_cdma.srcs/sources_1/bd/cdma_sim/hdl/cdma_sim_wrapper.v
update_compile_order -fileset sources_1
update_compile_order -fileset sim_1
exclude_bd_addr_seg [get_bd_addr_segs axi_cdma_0/S_AXI_LITE/Reg] -target_address_space [get_bd_addr_spaces S_AXI_LITE]
delete_bd_objs [get_bd_addr_segs -excluded S_AXI_LITE/SEG_axi_cdma_0_Reg]
save_bd_design
startgroup
set_property -dict [list CONFIG.C_INCLUDE_SG {1}] [get_bd_cells axi_cdma_0]
endgroup
delete_bd_objs [get_bd_intf_nets axi_cdma_0_M_AXI]
connect_bd_intf_net [get_bd_intf_pins axi_cdma_0/M_AXI_SG] -boundary_type upper [get_bd_intf_pins axi_mem_intercon/S00_AXI]
set_property location {2 366 78} [get_bd_cells axi_cdma_0]
set_property location {2 361 95} [get_bd_cells axi_cdma_0]
startgroup
endgroup
delete_bd_objs [get_bd_intf_nets axi_cdma_0_M_AXI_SG]
connect_bd_intf_net [get_bd_intf_pins axi_cdma_0/M_AXI] -boundary_type upper [get_bd_intf_pins axi_mem_intercon/S00_AXI]
set_property location {2 360 107} [get_bd_cells axi_cdma_0]
startgroup
set_property -dict [list CONFIG.C_INCLUDE_SG {0}] [get_bd_cells axi_cdma_0]
endgroup
set_property location {2 360 92} [get_bd_cells axi_cdma_0]
set_property location {2 361 102} [get_bd_cells axi_cdma_0]
save_bd_design
create_peripheral user.org user Usr_to_M_AXI 1.0 -dir /home/liucheng/projects/backup/ip_repo
add_peripheral_interface M00_AXI -interface_mode master -axi_type lite [ipx::find_open_core user.org:user:Usr_to_M_AXI:1.0]
generate_peripheral -bfm_example_design -debug_hw_example_design [ipx::find_open_core user.org:user:Usr_to_M_AXI:1.0]
write_peripheral [ipx::find_open_core user.org:user:Usr_to_M_AXI:1.0]
set_property  ip_repo_paths  /home/liucheng/projects/backup/ip_repo/Usr_to_M_AXI_1.0 [current_project]
update_ip_catalog -rebuild
startgroup
create_bd_cell -type ip -vlnv user.org:user:Usr_to_M_AXI:1.0 Usr_to_M_AXI_0
endgroup
delete_bd_objs [get_bd_cells Usr_to_M_AXI_0]
